/* src/pages/LeadDetail/LeadDetailPage.css */

/* tokens simples p/ espaçamentos fluidos */
:root{
  --app-header-h: 64px;                 /* ajuste se seu header tem outra altura */
  --page-pad: clamp(12px, 2vw, 20px);
  --gap: clamp(8px, 1.4vw, 14px);
  --card-bg: #fff;
  --card-br: 10px;
  --card-bd: #e9edf3;
  --shadow: 0 4px 14px rgba(15,23,42,.06);
}

/* ===== Página ===== */
.lead-detail-page{
  display: grid;
  grid-template-rows: auto 1fr;
  gap: var(--gap);
  padding: var(--page-pad);
  background: #fff;
  border-radius: 8px;
  box-shadow: var(--shadow);

  /* o segredo do scroll em telas baixas */
  min-height: calc(100dvh - var(--app-header-h));
  max-height: none;
  overflow: auto;
  -webkit-overflow-scrolling: touch;
  overscroll-behavior: contain;
}

/* estados */
.lead-detail-page.loading,
.lead-detail-page.error-page{
  text-align:center; padding: 2rem; font-size: 1rem;
}

/* ===== Header/Ações (component LeadHeaderActions) ===== */
.lead-detail-page .lead-header-actions,
.lead-detail-page .detail-header,
.lead-detail-page .header-actions{
  display:flex; align-items:center; gap: .5rem; flex-wrap: wrap;
}

/* se ainda ficar apertado, deixa rolar horizontalmente */
.lead-detail-page .lead-header-actions{
  overflow-x: auto; padding-bottom: 2px;
}
.lead-detail-page .lead-header-actions::-webkit-scrollbar{ height:6px }
.lead-detail-page .lead-header-actions::-webkit-scrollbar-thumb{
  background:#cbd5e1; border-radius:6px;
}

/* ===== Grid principal ===== */
.detail-layout-grid{
  display: grid;
  grid-template-columns: 1fr;       /* mobile: 1 col */
  gap: var(--gap);
  min-height: 0;                    /* permite scroll interno se precisar */
}

/* desktop: 2 colunas */
@media (min-width: 992px){
  .detail-layout-grid{ grid-template-columns: 1.2fr 1fr; }
}

/* transforma os filhos em cards compactos */
.detail-layout-grid > *{
  background: var(--card-bg);
  border: 1px solid var(--card-bd);
  border-radius: var(--card-br);
  box-shadow: var(--shadow);
  padding: clamp(12px, 1.4vw, 16px);
}

/* Títulos dos cards */
.detail-layout-grid h2{
  margin: 0 0 .5rem 0;
  font-weight: 600;
  font-size: clamp(15px, 1.2vw, 18px);
  color: #0f172a;
}

/* ===== Mensagens de erro info ===== */
.error-message{
  color:#721c24; background:#f8d7da; border:1px solid #f5c6cb;
  padding:.75rem; border-radius:6px; margin: .25rem 0 .5rem 0;
  font-size: .95rem;
}

/* ===== Histórico (altura adaptável) ===== */
.lead-history-list{
  list-style:none; margin:0; padding:.5rem;
  border:1px solid #eef2f7; border-radius:8px; background:#fafbfc;

  /* limita sem cortar a página */
  max-height: min(40vh, 360px);
  overflow:auto; -webkit-overflow-scrolling:touch;
}
.history-entry{ padding:.5rem .25rem; border-bottom:1px solid #f1f5f9; font-size:.95rem }
.history-entry:last-child{ border-bottom:none }
.history-timestamp{ display:block; font-size:.8rem; color:#64748b; margin-bottom:.15rem }

/* ===== Tarefas ===== */
.tasks-section h2{ margin-bottom:.5rem }

/* ===== Botões genéricos da página (se usados aqui) ===== */
.button{
  padding: .55rem .9rem; border-radius:8px; font-weight:600;
  border:1px solid #e5e7eb; background:#fff; color:#0f172a;
  font-size: clamp(13px, 0.9vw, 15px); cursor:pointer;
}
.button:hover{ filter: brightness(.98) }
.back-button{ background:#f1f5f9 } .back-button:hover{ background:#e2e8f0 }
.edit-button{ background:#fff7e0; border-color:#ffe08a }
.discard-button-detail, .delete-button-detail{
  background:#fee2e2; border-color:#fecaca; color:#991b1b;
}
.reactivate-button{ background:#dcfce7; border-color:#bbf7d0; color:#166534 }

/* ===== Ajustes finos nos espaçamentos ===== */
.detail-item{ background:#f8fafc; border:1px solid #eef2f7; border-radius:8px;
  padding: .75rem }
.detail-label{ font-size:.8rem; color:#475569; margin-bottom:.25rem; text-transform:uppercase }
.detail-value{ font-size:.95rem; color:#0f172a }

/* quando houver bloco de conversa vazio, não ocupa “buraco” */
.lead-conversations-column:empty{ display:none }

/* scrollbars sutis (opcional) */
.lead-detail-page::-webkit-scrollbar{ width:10px }
.lead-detail-page::-webkit-scrollbar-thumb{ background:#cbd5e1; border-radius:8px }
