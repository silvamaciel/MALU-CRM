/* ======= PARCELAS (escopo) ======= */
.parcelas-tab * { box-sizing: border-box; }

/* raiz da tab: ocupa toda a altura do main */
.parcelas-tab {
  height: 100%;
  display: flex;
  flex-direction: column;
  gap: 12px;
  /* leve ajuste tipográfico local (fluido) */
  font-size: clamp(13px, 0.95rem, 16px);
}

/* ---------- KPIs ---------- */
.parcelas-tab .kpi-container {
  display: grid;
  grid-template-columns: repeat(3, minmax(240px, 1fr));
  gap: 12px;
}
.parcelas-tab .kpi-card {
  display: flex; flex-direction: column; justify-content: center;
  background: #fff; border: 1px solid #e6eaf1; border-radius: 12px;
  padding: 16px; min-height: 86px; box-shadow: 0 1px 2px rgba(17,24,39,.05);
}
.parcelas-tab .kpi-label { font-size: 12px; color: #6b7280; margin-bottom: 6px; }
.parcelas-tab .kpi-value { font-size: 1.35rem; font-weight: 800; letter-spacing: .2px; }
.parcelas-tab .kpi-info   { border-left: 4px solid #0ea5b7; }
.parcelas-tab .kpi-info   .kpi-value { color: #0891b2; }
.parcelas-tab .kpi-success{ border-left: 4px solid #16a34a; }
.parcelas-tab .kpi-success .kpi-value { color: #16a34a; }
.parcelas-tab .kpi-danger { border-left: 4px solid #ef4444; }
.parcelas-tab .kpi-danger .kpi-value { color: #ef4444; }

/* ---------- Filtros ---------- */
.parcelas-tab .filters-row {
  display: flex; flex-wrap: wrap; align-items: center;
  gap: 10px;
}
.parcelas-tab .input-with-icon { position: relative; display: flex; align-items: center; }
.parcelas-tab .input-with-icon > svg { position: absolute; left: 10px; color: #9ca3af; }
.parcelas-tab .input-with-icon > input { padding-left: 34px; }

.parcelas-tab input,
.parcelas-tab select,
.parcelas-tab textarea,
.parcelas-tab .button {
  height: 40px; border-radius: 10px; outline: none;
}
.parcelas-tab input,
.parcelas-tab select,
.parcelas-tab textarea {
  background: #fff; border: 1px solid #e6eaf1; padding: 0 12px; color: #111827;
  transition: border-color .15s, box-shadow .15s;
}
.parcelas-tab input:focus,
.parcelas-tab select:focus { border-color: #93c5fd; box-shadow: 0 0 0 3px rgba(59,130,246,.15); }

/* ---------- Botões ---------- */
.parcelas-tab .button {
  display: inline-flex; align-items: center; justify-content: center; gap: 6px;
  border: 1px solid #e6eaf1; background: #fff; color: #1f2937; padding: 0 14px;
  transition: background .15s, box-shadow .15s, transform .02s;
}
.parcelas-tab .button:hover { background: #f3f6fb; }
.parcelas-tab .button.primary { background: #2563eb; border-color: #2563eb; color: #fff; box-shadow: 0 8px 18px rgba(37,99,235,.22); }
.parcelas-tab .button.primary:hover { background: #1d4ed8; }
.parcelas-tab .button.secondary { background: #f4f6fa; color: #374151; }
.parcelas-tab .button.small { height: 34px; padding: 0 12px; }
.parcelas-tab .button.ghost { background: #fff; }

/* ---------- CARD DA TABELA (preenche o restante e rola por dentro) ---------- */
.parcelas-tab .table-card {
  flex: 1 1 auto;
  min-height: 0;                 /* <- fundamental p/ permitir overflow interno */
  display: grid;
  grid-template-rows: 1fr auto;  /* body rolável + footer fixo (paginação) */
  border: 1px solid #e6eaf1;
  border-radius: 12px;
  background: #fff;
  box-shadow: 0 1px 3px rgba(17,24,39,.06);
  overflow: hidden;
}
/* Só o corpo rola */
.parcelas-tab .table-scroll {
  overflow: auto;
  scrollbar-gutter: stable;      /* largura estável com barra vertical */
}

/* Tabela */
.parcelas-tab .table { width: 100%; border-collapse: collapse; font-size: 0.95rem; }
.parcelas-tab .table-fixed { table-layout: fixed; }
.parcelas-tab thead { background: #f9fbff; }
.parcelas-tab .table-scroll thead th { position: sticky; top: 0; z-index: 1; background: #f9fbff; }
.parcelas-tab th {
  text-align: left; padding: 12px 14px; font-size: 0.9rem; font-weight: 700; color: #1f2937;
  border-bottom: 1px solid #e6eaf1;
}
.parcelas-tab td { padding: 12px 14px; font-size: 14px; color: #374151; border-bottom: 1px solid #eef2f7; vertical-align: middle; }
.parcelas-tab tbody tr:hover { background: #f7fafc; }
.parcelas-tab .ellipsis { overflow: hidden; text-overflow: ellipsis; white-space: nowrap; }

/* valores alinhados à direita no head e body */
.parcelas-tab th.right,
.parcelas-tab td.money { text-align: right; font-variant-numeric: tabular-nums; }

/* Footer (paginação fixa) */
.parcelas-tab .table-footer {
  display: flex; align-items: center; justify-content: center; gap: 12px;
  padding: 10px; background: #fff; border-top: 1px solid #eef2f7;
}

/* ---------- Tags ---------- */
.parcelas-tab .tag {
  display: inline-flex; align-items: center; padding: 6px 12px; border-radius: 999px;
  font-size: 12px; font-weight: 700;
}
.parcelas-tab .tag-pendente { background:#fff7e6; color:#8a5a00; }
.parcelas-tab .tag-pago     { background:#d9fbe9; color:#065f46; }
.parcelas-tab .tag-atrasado { background:#ffecec; color:#8e1b1b; }

/* responsivo */
@media (max-width: 992px) {
  .parcelas-tab .kpi-container { grid-template-columns: 1fr; }
}
