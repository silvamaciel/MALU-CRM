/* ================================
   LeadFormPage.css — versão colorida e segmentada
   Mantém o seu base e adiciona:
   - Cards por seção (Lead, Coadquirentes, Dados Adm.)
   - Títulos com “chip” colorido
   - Bordas e sombras
   - Divisões claras e responsivas
   Usa variáveis do CRM:
   --primary, --primary-hover, --border-color, --card-bg,
   --text-main, --text-light, --danger, --success, --background,
   --warning (opcional), --info (opcional), --muted-bg (opcional)
   ================================ */

.lead-form-page {
  --_primary: var(--primary, #6f42c1);
  --_primaryHover: var(--primary-hover, #59339e);
  --_border: var(--border-color, #e5e7eb);
  --_card: var(--card-bg, #fff);
  --_text: var(--text-main, #111827);
  --_muted: var(--text-light, #6b7280);
  --_danger: var(--danger, #ef4444);
  --_success: var(--success, #16a34a);
  --_bg: var(--background, #f6f8fb);

  /* cores auxiliares (fallbacks) */
  --_warning: var(--warning, #f59e0b);
  --_info: var(--info, #3b82f6);
  --_mutedBg: var(--muted-bg, #f9fafb);

  color: var(--_text);
  background: var(--_bg);
  padding: 16px;
  border-radius: 12px;

  /* Scroll sempre */
  display: flex;
  flex-direction: column;
  gap: 12px;
  min-height: 320px;
  max-height: 100vh;
  overflow-y: auto;
  overflow-x: hidden;
  -webkit-overflow-scrolling: touch;
}

.lead-form-page::-webkit-scrollbar { width: 10px; }
.lead-form-page::-webkit-scrollbar-thumb {
  background: #cbd5e1;
  border-radius: 8px;
}
.lead-form-page::-webkit-scrollbar-thumb:hover { background: #94a3b8; }

.lead-form-page h1 {
  margin: 0 0 12px 0;
  font-size: 1.25rem;
  font-weight: 800;
  color: var(--_text);
}

/* Loading / erro */
.lead-form-page.loading,
.lead-form-page.error {
  display: grid;
  place-items: center;
  min-height: 40vh;
}
.lead-form-page .error-message {
  color: var(--_danger);
  font-weight: 600;
}

/* Ações superiores (no modo edição) */
.form-top-actions {
  display: flex;
  gap: 8px;
  margin-bottom: 12px;
  flex-wrap: wrap;
}
.form-top-actions .button {
  border: 1px solid var(--_border);
  background: var(--_card);
  color: var(--_text);
  padding: 8px 12px;
  border-radius: 10px;
  cursor: pointer;
  text-decoration: none;
  font-weight: 700;
  transition: background .15s ease, border-color .15s ease, color .15s ease, box-shadow .15s ease;
}
.form-top-actions .button:hover {
  border-color: var(--_primary);
  color: var(--_primary);
  box-shadow: 0 6px 16px rgba(111,66,193,.12);
}
.back-to-detail-button i,
.back-to-list-button i { margin-right: 6px; }

/* ================================
   GRID PRINCIPAL DO FORM
   (cada bloco fica dentro de um .section-card)
   ================================ */
.lead-form {
  display: grid;
  gap: 16px;
}

/* ====== CARD BASE DE SEÇÃO ====== */
.section-card {
  background: var(--_card);
  border: 1px solid var(--_border);
  border-radius: 14px;
  padding: 16px;
  box-shadow: 0 8px 26px rgba(15,23,42,.06);
  position: relative;
  overflow: hidden;
}

/* faixa de destaque superior sutil */
.section-card::before {
  content: "";
  position: absolute;
  inset: 0 0 auto 0;
  height: 4px;
  background: linear-gradient(90deg, rgba(111,66,193,.25), rgba(59,130,246,.25));
}

/* título “chip” da seção */
.section-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 12px;
  margin-bottom: 14px;
}
.section-chip {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  font-weight: 800;
  font-size: .95rem;
  color: #fff;
  padding: 6px 10px;
  border-radius: 999px;
  box-shadow: 0 8px 22px rgba(0,0,0,.08);
}

/* variações por seção */
.section-lead .section-chip {
  background: var(--_primary);
}
.section-coad .section-chip {
  background: var(--_warning);
}
.section-admin .section-chip {
  background: var(--_info);
}

/* Borda lateral colorida por seção */
.section-lead { border-left: 4px solid var(--_primary); }
.section-coad { border-left: 4px solid var(--_warning); }
.section-admin { border-left: 4px solid var(--_info); }

/* Conteúdo interno da seção: grid em 2 colunas por padrão */
.section-content {
  display: grid;
  grid-template-columns: repeat(2, minmax(240px, 1fr));
  gap: 14px 16px;
}

/* Divisor opcional entre blocos internos */
.section-divider {
  grid-column: 1 / -1;
  height: 1px;
  background: repeating-linear-gradient(
    to right,
    var(--_border),
    var(--_border) 8px,
    transparent 8px,
    transparent 16px
  );
  margin: 4px 0;
  opacity: .8;
}

/* ================================
   CAMPOS PADRÕES
   ================================ */
.form-group {
  display: flex;
  flex-direction: column;
  gap: 6px;
}
.form-group label {
  font-size: .85rem;
  font-weight: 800;
  color: var(--_text);
}
.form-group small.helper {
  color: var(--_muted);
  font-size: .75rem;
}

/* inputs/selects/textarea */
.form-group input[type="text"],
.form-group input[type="email"],
.form-group input[type="date"],
.form-group select,
.form-group textarea {
  border: 1px solid var(--_border);
  background: #fff;
  color: var(--_text);
  border-radius: 10px;
  padding: 10px 12px;
  font-size: .95rem;
  outline: none;
  transition: border-color .15s ease, box-shadow .15s ease, transform .03s ease;
}
.form-group textarea { min-height: 92px; resize: vertical; }

.form-group input:focus,
.form-group select:focus,
.form-group textarea:focus {
  border-color: var(--_primary);
  box-shadow: 0 0 0 3px rgba(111, 66, 193, .16);
}

/* destaque de erro/sucesso opcional */
.form-group.error input,
.form-group.error select,
.form-group.error textarea {
  border-color: var(--_danger);
  box-shadow: 0 0 0 3px rgba(239, 68, 68, .16);
}
.form-group.success input,
.form-group.success select,
.form-group.success textarea {
  border-color: var(--_success);
  box-shadow: 0 0 0 3px rgba(22, 163, 74, .16);
}

/* React Phone Number Input */
.phone-input-control { --PhoneInput-color--focus: var(--_primary); }
.phone-input-control .PhoneInputInput {
  border: 1px solid var(--_border);
  background: #fff;
  color: var(--_text);
  border-radius: 10px;
  padding: 10px 12px;
  font-size: .95rem;
  width: 100%;
  transition: border-color .15s ease, box-shadow .15s ease;
}
.phone-input-control:focus-within .PhoneInputInput {
  border-color: var(--_primary);
  box-shadow: 0 0 0 3px rgba(111, 66, 193, .16);
}

/* Campo em largura total dentro do grid */
.form-group.full { grid-column: 1 / -1; }

/* ================================
   COADQUIRENTES – cartões internos
   ================================ */
.coad-list { grid-column: 1 / -1; display: flex; flex-direction: column; gap: 12px; }
.coad-card {
  background: var(--_mutedBg);
  border: 1px solid var(--_border);
  border-radius: 12px;
  padding: 12px;
  box-shadow: 0 6px 18px rgba(15,23,42,.05);
}
.coad-card-head {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 10px;
}
.coad-card-title {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  font-weight: 800;
  color: var(--_text);
}
.coad-card-title .dot {
  width: 10px; height: 10px; border-radius: 999px; background: var(--_warning);
  box-shadow: 0 0 0 3px rgba(245, 158, 11, .18);
}
.button-link {
  background: transparent;
  border: none;
  padding: 0;
  color: var(--_primary);
  cursor: pointer;
  font-weight: 800;
  text-decoration: none;
  transition: color .15s ease;
}
.button-link:hover { color: var(--_primaryHover); text-decoration: underline; }
.button-link.danger { color: var(--_danger); }
.button-link.danger:hover { filter: brightness(.9); }

/* grade interna do coad */
.coad-grid {
  display: grid;
  grid-template-columns: repeat(3, minmax(160px, 1fr));
  gap: 12px 14px;
}

/* ================================
   AÇÕES (rodapé do form)
   ================================ */
.form-actions {
  display: flex;
  justify-content: flex-end;
  gap: 8px;
  margin-top: 2px;
}
.submit-button {
  background: var(--_primary);
  border: 1px solid var(--_primary);
  color: #fff;
  border-radius: 12px;
  font-weight: 800;
  padding: 10px 14px;
  cursor: pointer;
  transition: background .15s ease, border-color .15s ease, transform .05s ease, box-shadow .15s ease;
}
.submit-button:hover {
  background: var(--_primaryHover);
  border-color: var(--_primaryHover);
  box-shadow: 0 10px 24px rgba(111,66,193,.22);
}
.submit-button:active { transform: translateY(1px); }
.submit-button:disabled { opacity: .6; cursor: not-allowed; }

/* Botão alternativo (ex: adicionar coadquirente) */
.button.outline-button {
  background: #fff;
  border: 1px solid var(--_primary);
  color: var(--_primary);
  padding: 8px 12px;
  border-radius: 10px;
  font-weight: 800;
  transition: background .15s ease, color .15s ease, border-color .15s ease, box-shadow .15s ease;
}
.button.outline-button:hover {
  background: rgba(111,66,193,.06);
  color: var(--_primaryHover);
  border-color: var(--_primaryHover);
  box-shadow: 0 8px 20px rgba(111,66,193,.15);
}

/* ================================
   RESPONSIVO
   ================================ */
@media (max-width: 1200px) {
  .section-content { grid-template-columns: 1fr 1fr; }
}
@media (max-width: 900px) {
  .section-content { grid-template-columns: 1fr; }
  .coad-grid { grid-template-columns: 1fr 1fr; }
}
@media (max-width: 640px) {
  .coad-grid { grid-template-columns: 1fr; }
  .form-top-actions { flex-direction: column; align-items: stretch; }
  .form-actions { justify-content: stretch; }
  .submit-button { width: 100%; }
}

/* Autofill */
input:-webkit-autofill,
textarea:-webkit-autofill,
select:-webkit-autofill {
  box-shadow: 0 0 0 30px #fff inset !important;
  -webkit-text-fill-color: var(--_text) !important;
}
